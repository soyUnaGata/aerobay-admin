import{_ as k,r as c,c as C,g as G,o as x,G as D,b as a,e as l,f as p,t as _,H as h,x as S,y as V,F as I,n as L,l as b}from"./main-DQ80nIDV.js";import{G as B}from"./group-service-ClXzN_di.js";const N={props:{selectedGroupId:{type:Number,default:null},modelValue:{type:Number,default:null}},setup(d,{emit:s}){const r=c([]),t=c(null),n=c(!1),u=c(""),o=C(()=>r.value.filter(e=>e.name.toLowerCase().includes(u.value.toLowerCase()))),m=async()=>{try{r.value=await B.getAllGroups(),i(d.selectedGroupId)}catch(e){console.error(e)}},i=e=>{t.value=r.value.find(g=>g.id===e)},w=()=>{n.value=!n.value},y=e=>{n.value=!1,s("update:modelValue",e.id),i(e.id)};G(()=>d.selectedGroupId,e=>{i(e)},{immediate:!0}),G(()=>d.modelValue,e=>{i(e)},{immediate:!0});const f=e=>{v.value.contains(e.target)||(n.value=!1)},v=c(null);return x(()=>{m(),document.addEventListener("click",f)}),D(()=>{document.removeEventListener("click",f)}),{groups:r,selectedGroup:t,selectContainer:v,isOpen:n,searchTerm:u,filteredGroups:o,toggleDropdown:w,selectGroup:y}}},T={class:"manufacturer-select",ref:"selectContainer"},E={key:0},O={key:1,class:"placeholder"},F={key:0,class:"dropdown"},M=["onClick"];function U(d,s,r,t,n,u){return a(),l("div",T,[p("div",{class:"selected-manufacturer",onClick:s[0]||(s[0]=(...o)=>t.toggleDropdown&&t.toggleDropdown(...o))},[t.selectedGroup?(a(),l("span",E,_(t.selectedGroup.name),1)):(a(),l("span",O,"Select group...")),p("span",{class:h(["dropdown-arrow",{open:t.isOpen}])},"â–¼",2)]),t.isOpen?(a(),l("div",F,[S(p("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.searchTerm=o),placeholder:"Search...",class:"search-input"},null,512),[[V,t.searchTerm]]),(a(!0),l(I,null,L(t.filteredGroups,o=>(a(),l("div",{key:o.id,class:h(["cursor-pointer px-4 py-2 hover:bg-indigo-500 hover:text-white",["option",o.id===r.selectedGroupId?"selected":""]]),onClick:m=>t.selectGroup(o)},_(o.name),11,M))),128))])):b("",!0)],512)}const H=k(N,[["render",U],["__scopeId","data-v-9d97fc93"]]);export{H as G};
