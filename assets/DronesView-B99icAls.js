import{_ as V,r as a,c as m,o as N,e as f,f as e,j as n,k as B,l as $,m as g,x,D as A,y as S,F as y,n as T,q as j,b as i,N as E,s as h,t as d}from"./main-DQ80nIDV.js";import{L as F}from"./Loader-CAr-vM2i.js";import{D as _}from"./drone-service-BI9NOmMs.js";import{_ as M}from"./Pagination-C4eewSl9.js";import"./api-BLsDvcKO.js";const R={class:"fixed left-0 top-0 h-screen w-64 bg-gray-800 text-white"},U={class:"ml-64 flex-1 p-4 w-full"},q={class:"justify-end flex"},I={class:"mt-6"},z={class:"mb-4"},G={class:"overflow-hidden rounded-lg shadow-lg w-full"},H={class:"min-w-full bg-white border border-gray-200 rounded-lg"},J={class:"py-3 px-4 text-gray-700"},K={class:"ppy-3 px-4 text-gray-700 w-2/5"},O={class:"py-3 px-4 text-gray-700"},Q={class:"py-3 px-4 text-gray-700"},W={class:"ppy-3 px-4 space-x-2 flex w-1/3"},X=["onClick"],Y=["onClick"],u=12,Z={__name:"DronesView",setup(ee){const c=a(""),r=a(1),p=a(!0),l=a([]),w=async()=>{try{l.value=await _.getAllDrones()}catch(s){console.error("Ошибка при загрузке подкатегорий:",s)}finally{p.value=!1}},b=m(()=>l.value.filter(s=>s.title.toLowerCase().includes(c.value.toLowerCase()))),P=m(()=>b.value.slice((r.value-1)*u,r.value*u));function k(s){alert(`Редактировать товар: ${s}`)}async function D(s){l.value=l.value.filter(t=>t.id!==s);try{await _.removeDrone(s)}catch(t){console.log(t)}}return N(async()=>{await w(),console.log(l.value)}),(s,t)=>{const v=j("RouterLink");return i(),f(y,null,[e("nav",R,[n(E)]),e("div",U,[p.value?(i(),B(F,{key:0})):$("",!0),e("div",q,[n(v,{to:{name:"drones-add"},class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:g(()=>t[3]||(t[3]=[h(" Add ")])),_:1})]),x(e("div",I,[e("div",z,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),onInput:t[1]||(t[1]=(...o)=>s.filterProducts&&s.filterProducts(...o)),type:"text",placeholder:"Search...",class:"w-full p-2 border rounded-md shadow-sm"},null,544),[[S,c.value]])]),e("div",G,[e("table",H,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"bg-gray-50 text-left text-gray-600"},[e("th",{class:"ppy-3 px-4 border-b font-semibold"},"#"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Title"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Amount"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Price"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Actions")])],-1)),e("tbody",null,[(i(!0),f(y,null,T(P.value,(o,C)=>(i(),f("tr",{key:o.id,class:"hover:bg-gray-100 transition duration-200 ease-in-out border-b"},[e("td",J,d(C+1+(r.value-1)*u),1),e("td",K,d(o.title),1),e("td",O,d(o.amount),1),e("td",Q,d(o.price|s.currency),1),e("td",W,[e("button",{onClick:L=>k(o.id),class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"},[n(v,{class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150",to:`/drones/edit/${o.id}`},{default:g(()=>t[4]||(t[4]=[h(" Edit ")])),_:2},1032,["to"])],8,X),e("button",{onClick:L=>D(o.id),class:"bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Delete ",8,Y)])]))),128))])])]),n(M,{currentPage:r.value,"onUpdate:currentPage":t[2]||(t[2]=o=>r.value=o),products:b.value,"items-per-page":u},null,8,["currentPage","products"])],512),[[A,!p.value]])])],64)}}},ae=V(Z,[["__scopeId","data-v-c14b0556"]]);export{ae as default};
