import{r as d,O as k,o as G,e as c,f as e,j as y,k as N,l as g,F as x,n as V,b as n,N as D,t as b}from"./main-DQ80nIDV.js";import{L as B}from"./Loader-CAr-vM2i.js";import{_ as E}from"./Modal-BaUOvuWW.js";import{G as l}from"./group-service-ClXzN_di.js";import"./portal-pL1vUvWe.js";import"./api-BLsDvcKO.js";const O={class:"fixed left-0 top-0 h-screen w-64 bg-gray-800 text-white"},$={class:"w-screen"},A={key:0,class:"flex-1 p-4 w-full"},L={class:"ml-64 flex-1 p-4 w-full"},M={class:"overflow-hidden rounded-lg shadow-lg w-full mt-6"},S={class:"min-w-full bg-white border border-gray-200 rounded-lg"},j={class:"ppy-3 px-4 text-gray-700"},F={class:"ppy-3 px-4 text-gray-700 w-1/4"},U={class:"ppy-3 px-4 text-gray-700 w-5/6 max-w-[300px] max-h-[60px] overflow-hidden text-ellipsis whitespace-nowrap"},I={class:"ppy-3 px-4 space-x-2 flex w-1/6"},q=["onClick"],z=["onClick"],W={__name:"GroupView",setup(H){const p=d(!0),v=d([]),i=d(!1),o=k({name:"",description:"",id:null}),r=d(!1),u=async()=>{try{v.value=await l.getAllGroups()}catch(a){console.log(a)}finally{p.value=!1}},w=()=>{r.value=!1,o.name="",o.description="",o.id=null,i.value=!0},h=async a=>{const t=await l.getGroup(a);t&&(o.id=t.id,o.name=t.name,o.description=t.description,r.value=!0,i.value=!0)},_=async({name:a,description:t})=>{const s={name:o.name,description:o.description},m={name:a,description:t};try{r.value?await l.updateGroup(o.id,s):(console.log(s),await l.addGroup(m)),i.value=!1,await u()}catch(f){console.log(f)}},C=async a=>{await l.removeGroup(a),await u()};return G(async()=>{await u()}),(a,t)=>(n(),c(x,null,[e("nav",O,[y(D)]),e("div",$,[p.value?(n(),N(B,{key:0})):g("",!0)]),p.value?g("",!0):(n(),c("div",A,[e("div",L,[e("div",{class:"justify-end flex"},[e("button",{onClick:w,class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Add ")]),e("div",M,[e("table",S,[t[3]||(t[3]=e("thead",null,[e("tr",{class:"bg-gray-50 text-left text-gray-600"},[e("th",{class:"ppy-3 px-4 border-b font-semibold"},"#"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Name"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Description"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Actions")])],-1)),e("tbody",null,[(n(!0),c(x,null,V(v.value,(s,m)=>(n(),c("tr",{key:s.id,class:"hover:bg-gray-100 transition duration-200 ease-in-out border-b"},[e("td",j,b(m+1),1),e("td",F,b(s.name),1),e("td",U,b(s.description),1),e("td",I,[e("button",{onClick:f=>h(s.id),class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Edit ",8,q),e("button",{onClick:f=>C(s.id),class:"bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Delete ",8,z)])]))),128))])])])]),y(E,{title:r.value?"Edit Group":"New Group",modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.name=s),modelDescription:o.description,"onUpdate:modelDescription":t[1]||(t[1]=s=>o.description=s),isOpen:i.value,onSaveItem:_,onCloseModal:t[2]||(t[2]=s=>i.value=!1)},null,8,["title","modelValue","modelDescription","isOpen"])]))],64))}};export{W as default};
