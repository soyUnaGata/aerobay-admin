import{_ as L,r as l,c as m,o as V,e as f,f as e,j as i,k as N,l as B,m as g,x as y,D,y as S,F as x,n as T,q as $,b as n,N as j,s as h,t as d}from"./main-C_11dBjN.js";import{L as E}from"./Loader-CKVVMDD7.js";import{A as _}from"./accessory-service-ij6YPMRx.js";import{_ as F}from"./Pagination-CQhwCgxF.js";import"./api-2mOM-9YQ.js";const M={class:"fixed left-0 top-0 h-screen w-64 bg-gray-800 text-white"},R={class:"ml-64 flex-1 p-4 w-full"},U={class:"justify-end flex"},q={class:"mt-6"},I={class:"mb-4"},z={class:"overflow-hidden rounded-lg shadow-lg w-full"},G={class:"min-w-full bg-white border border-gray-200 rounded-lg"},H={class:"py-3 px-4 text-gray-700"},J={class:"ppy-3 px-4 text-gray-700 w-2/5"},K={class:"py-3 px-4 text-gray-700"},O={class:"py-3 px-4 text-gray-700"},Q={class:"ppy-3 px-4 space-x-2 flex w-1/3"},W=["onClick"],X=["onClick"],c=12,Y={__name:"AccessoriesView",setup(Z){const u=l(""),r=l(1),p=l(!0),a=l([]),w=async()=>{try{a.value=await _.getAllAccessories()}catch(o){console.error("Ошибка при загрузке подкатегорий:",o)}finally{p.value=!1}},b=m(()=>a.value.filter(o=>o.title.toLowerCase().includes(u.value.toLowerCase()))),P=m(()=>b.value.slice((r.value-1)*c,r.value*c));function ee(o){}async function k(o){try{a.value=a.value.filter(t=>t.id!==o),await _.removeAccessory(o)}catch(t){console.log(t)}}return V(async()=>{await w()}),(o,t)=>{const v=$("RouterLink");return n(),f(x,null,[e("nav",M,[i(j)]),e("div",R,[p.value?(n(),N(E,{key:0})):B("",!0),e("div",U,[i(v,{to:{name:"accessories-add"},class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:g(()=>t[3]||(t[3]=[h(" Add ")])),_:1})]),y(e("div",q,[e("div",I,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),onInput:t[1]||(t[1]=(...s)=>o.filterProducts&&o.filterProducts(...s)),type:"text",placeholder:"Search...",class:"w-full p-2 border rounded-md shadow-sm"},null,544),[[S,u.value]])]),e("div",z,[e("table",G,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"bg-gray-50 text-left text-gray-600"},[e("th",{class:"ppy-3 px-4 border-b font-semibold"},"#"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Title"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Amount"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Price"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Actions")])],-1)),e("tbody",null,[(n(!0),f(x,null,T(P.value,(s,A)=>(n(),f("tr",{key:s.id,class:"hover:bg-gray-100 transition duration-200 ease-in-out border-b"},[e("td",H,d(A+1+(r.value-1)*c),1),e("td",J,d(s.title),1),e("td",K,d(s.amount),1),e("td",O,d(s.price|o.currency),1),e("td",Q,[e("button",{onClick:C=>(s.id,void 0),class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"},[i(v,{class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150",to:`/accessories/edit/${s.id}`},{default:g(()=>t[4]||(t[4]=[h(" Edit ")])),_:2},1032,["to"])],8,W),e("button",{onClick:C=>k(s.id),class:"bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Delete ",8,X)])]))),128))])])]),i(F,{currentPage:r.value,"onUpdate:currentPage":t[2]||(t[2]=s=>r.value=s),products:b.value,"items-per-page":c},null,8,["currentPage","products"])],512),[[D,!p.value]])])],64)}}},le=L(Y,[["__scopeId","data-v-58487b45"]]);export{le as default};
