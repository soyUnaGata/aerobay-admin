import{r as d,O as k,o as C,e as u,f as e,j as v,k as N,l as b,F as g,n as V,b as n,N as B,t as m}from"./main-C_11dBjN.js";import{L as D}from"./Loader-CKVVMDD7.js";import{_ as E}from"./Modal-CjcVtrI7.js";import{M as r}from"./manufactures-service-BeyKSNb9.js";import"./portal-qxOlFC70.js";import"./api-2mOM-9YQ.js";const O={class:"fixed left-0 top-0 h-screen w-64 bg-gray-800 text-white"},$={class:"w-screen"},A={key:0,class:"flex-1 p-4 w-full"},L={class:"ml-64 flex-1 p-4 w-full"},S={class:"overflow-hidden rounded-lg shadow-lg w-full mt-6"},j={class:"min-w-full bg-white border border-gray-200 rounded-lg"},F={class:"ppy-3 px-4 text-gray-700"},I={class:"ppy-3 px-4 text-gray-700 w-1/4"},U={class:"ppy-3 px-4 text-gray-700 w-5/6 max-w-[300px] max-h-[60px] overflow-hidden text-ellipsis whitespace-nowrap"},q={class:"ppy-3 px-4 space-x-2 flex w-1/6"},z=["onClick"],G=["onClick"],W={__name:"ManufacturerView",setup(H){const c=d(!0),p=d([]),l=d(!1),s=k({name:"",id:null}),i=d(!1),f=async()=>{try{p.value=await r.getAllManufactures(),console.log(p.value)}catch(o){console.log(o)}finally{c.value=!1}},x=()=>{i.value=!1,s.name="",s.id=null,l.value=!0},y=async o=>{const t=await r.getManufacturer(o);t&&(s.id=t.id,s.name=t.name,i.value=!0,l.value=!0)},h=async o=>{const t={name:s.name};try{i.value?await r.updateManufacturer(s.id,t):(console.log(t),await r.addManufacturer(o)),l.value=!1,await f()}catch(a){console.log(a)}},w=async o=>{await r.removeManufacturer(o),await f()};return C(async()=>{await f()}),(o,t)=>(n(),u(g,null,[e("nav",O,[v(B)]),e("div",$,[c.value?(n(),N(D,{key:0})):b("",!0)]),c.value?b("",!0):(n(),u("div",A,[e("div",L,[e("div",{class:"justify-end flex"},[e("button",{onClick:x,class:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Add ")]),e("div",S,[e("table",j,[t[2]||(t[2]=e("thead",null,[e("tr",{class:"bg-gray-50 text-left text-gray-600"},[e("th",{class:"ppy-3 px-4 border-b font-semibold"},"#"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Name"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Description"),e("th",{class:"py-3 px-4 border-b font-semibold"},"Actions")])],-1)),e("tbody",null,[(n(!0),u(g,null,V(p.value,(a,_)=>(n(),u("tr",{key:a.id,class:"hover:bg-gray-100 transition duration-200 ease-in-out border-b"},[e("td",F,m(_+1),1),e("td",I,m(a.name),1),e("td",U,m(a.description),1),e("td",q,[e("button",{onClick:M=>y(a.id),class:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Edit ",8,z),e("button",{onClick:M=>w(a.id),class:"bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded-full transition ease-in-out duration-150"}," Delete ",8,G)])]))),128))])])])]),v(E,{title:i.value?"Edit Manufacturer":"New Manufacturer",modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=a=>s.name=a),isOpen:l.value,onSaveItem:h,onCloseModal:t[1]||(t[1]=a=>l.value=!1),showDescription:!1},null,8,["title","modelValue","isOpen"])]))],64))}};export{W as default};
